!function(e,i,t){var s=function(i,t){this.$elem=e(i),this.options=t,this.$container=null,this.$prevEllipsis=null,this.$nextEllipsis=null,this.currentPage=null,this.visiblePages=[]};s.defaults=(s.prototype={defaults:{align:"left",lastPage:1,firstPage:1,maxVisiblePages:3,urlParameter:"page",useUrlParameter:!1,onClickCallback:function(){}},init:function(){this.config=e.extend({},this.defaults,this.options);var i=this.config.useUrlParameter?this.parseUrl():this.config.firstPage;this.createPaginationBase(i)&&this.bindClickEvent()},createPaginationBase:function(i){if(isNaN(this.config.firstPage)||isNaN(this.config.lastPage))return console.error("Both firstPage and lastPage attributes need to be integer values"),!1;if(this.config.firstPage>this.config.lastPage)return console.error("Value of firstPage must be less than the value of lastPage"),!1;this.config.firstPage=parseInt(this.config.firstPage),this.config.lastPage=parseInt(this.config.lastPage),this.currentPage=this.config.firstPage-this.config.maxVisiblePages,this.$container=e('<ul class="bar" style="-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none; -ms-user-select: none; user-select: none;">').addClass("pagination").addClass(this.config.align+"-align"),this.$prevEllipsis=this.util.Ellipsis(),this.$nextEllipsis=this.util.Ellipsis();var t=this.util.createPage(this.config.firstPage),s=this.util.createChevron("prev"),a=this.util.createChevron("next");(this.$container.append(s).append(t).append(this.$prevEllipsis.$elem).append(this.$nextEllipsis.$elem).append(a),this.config.lastPage>this.config.firstPage)&&this.util.createPage(this.config.lastPage).insertBefore(a);return this.requestPage(i,!0),this.renderActivePage(),this.$elem.append(this.$container),!0},requestPage:function(e,i){e!==this.currentPage&&this.requestPageByNumber(e),i||this.config.onClickCallback(this.currentPage),this.renderActivePage(),this.config.useUrlParameter&&this.updateUrlParam(this.config.urlParameter,this.currentPage)},requestPageByNumber:function(e){this.purgeVisiblePages(),this.currentPage=e;for(var i=this.currentPage-this.config.maxVisiblePages;i<this.currentPage+this.config.maxVisiblePages+1;i++)this.visiblePages.push(this.insertNextPaginationComponent(i))},renderActivePage:function(){this.renderEllipsis(),this.$container.find("li.active").removeClass("active"),e(this.$container.find('[data-page="'+this.currentPage+'"]')[0]).addClass("active")},renderEllipsis:function(){this.$prevEllipsis.isHidden&&this.currentPage>this.config.firstPage+this.config.maxVisiblePages+1?this.$prevEllipsis.show():!this.$prevEllipsis.isHidden&&this.currentPage<this.config.firstPage+this.config.maxVisiblePages+2&&this.$prevEllipsis.hide(),this.$nextEllipsis.isHidden&&this.currentPage<this.config.lastPage-this.config.maxVisiblePages-1?this.$nextEllipsis.show():!this.$nextEllipsis.isHidden&&this.currentPage>this.config.lastPage-this.config.maxVisiblePages-2&&this.$nextEllipsis.hide()},bindClickEvent:function(){var i=this;this.$container.on("click","li",function(){if(void 0!==e(this).data("page")){var t=i.sanitizePageRequest(e(this).data("page"));i.requestPage(t)}})},insertNextPaginationComponent:function(i){return i>this.config.firstPage&&i<this.config.lastPage?this.util.createPage(i).insertBefore(this.$nextEllipsis.$elem):e("")},sanitizePageRequest:function(e){this.config.firstPage;return"prev"===e?this.currentPage===this.config.firstPage?this.currentPage:this.currentPage-1:"next"===e?this.currentPage===this.config.lastPage?this.currentPage:this.currentPage+1:!isNaN(e)&&e>=this.config.firstPage&&e<=this.config.lastPage?parseInt(e):null},purgeVisiblePages:function(){for(var e=this.visiblePages.length,i=0;i<e;i+=1)this.visiblePages.pop().remove()},parseUrl:function(){var e=this.getUrlParamByName(this.config.urlParameter)||this.config.firstPage;return this.sanitizePageRequest(e)},getUrlParamByName:function(e){e=e.replace(/[\[\]]/g,"\\$&");var t=i.location.href,s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null},updateUrlParam:function(e,s){[location.protocol,"//",location.host,location.pathname].join("");var a=t.location.search,n=e+"="+s,r="?"+n;a&&(keyRegex=new RegExp("([?&])"+e+"[^&]*"),r=null!==a.match(keyRegex)?a.replace(keyRegex,"$1"+n):a+"&"+n),i.history.pushState("","",r)},util:{createPage:function(i){return e("<li>").html("<a>"+i+"</a>").addClass("hover-opacity-off opacity button").attr("data-page",i)},createChevron:function(i){var t="next"===i?"right":"left",s=e("<i>").addClass("hover-opacity-off opacity material-icons pointer").text("chevron_"+t);return this.createPage(i).text("").attr("data-page",i).append(s)},Ellipsis:function(){var i=e("<li>");return i.text("..."),i.addClass("hide disabled"),{$elem:i,isHidden:!0,show:function(){this.isHidden=!1,this.$elem.removeClass("hide")},hide:function(){this.isHidden=!0,this.$elem.addClass("hide")}}}}}).defaults,e.fn.materializePagination=function(e){return this.each(function(){new s(this,e).init()})}}(jQuery,window,document);